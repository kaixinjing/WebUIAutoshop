{"uid":"c011a0888211b1f8","name":"测试将错误截图保存到allure报告中","fullName":"pom.test_pom_case.test_home_usercenter.TestHomeUserCenter#test_shop_023_skip_login","historyId":"52ba18602d519629c640f9152140e243","time":{"start":1745502280518,"stop":1745502283916,"duration":3398},"status":"broken","statusMessage":"ValueError: could not convert string to float: \"//img[@src='img/laaaogo.png']\"","statusTrace":"self = <WebUIAutoshop.pom.test_pom_case.test_home_usercenter.TestHomeUserCenter object at 0x000001A8F9D84C10>\nbrowser = <WebUIAutoshop.pom.base.HomePage.HomePage object at 0x000001A8F9D86FD0>\n\n    @allure.feature(\"测试用例\")\n    @allure.story(\"测试用例\")\n    @allure.title(\"测试将错误截图保存到allure报告中\")\n    def test_shop_023_skip_login(self, browser):\n        driver = browser\n        driver.get_url(ENV.url)\n        log.info(\"本用例故意制造错误，测试将错误截图保存到allure报告中\")\n>       driver.find_element(By.XPATH, \"//img[@src='img/laaaogo.png']\")\n\npom\\test_pom_case\\test_home_usercenter.py:139: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\npom\\base\\BasePage.py:92: in find_element\n    return WebDriverWait(self.driver, timeout).until(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <selenium.webdriver.support.wait.WebDriverWait (session=\"a90fe1a158fc40e9df4e93bc1c3db7ea\")>\ndriver = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"a90fe1a158fc40e9df4e93bc1c3db7ea\")>\ntimeout = \"//img[@src='img/laaaogo.png']\", poll_frequency = 0.5\nignored_exceptions = None\n\n    def __init__(\n        self,\n        driver: D,\n        timeout: float,\n        poll_frequency: float = POLL_FREQUENCY,\n        ignored_exceptions: typing.Optional[WaitExcTypes] = None,\n    ):\n        \"\"\"Constructor, takes a WebDriver instance and timeout in seconds.\n    \n        :Args:\n         - driver - Instance of WebDriver (Ie, Firefox, Chrome or Remote) or a WebElement\n         - timeout - Number of seconds before timing out\n         - poll_frequency - sleep interval between calls\n           By default, it is 0.5 second.\n         - ignored_exceptions - iterable structure of exception classes ignored during calls.\n           By default, it contains NoSuchElementException only.\n    \n        Example::\n    \n         from selenium.webdriver.support.wait import WebDriverWait \\n\n         element = WebDriverWait(driver, 10).until(lambda x: x.find_element(By.ID, \"someId\")) \\n\n         is_disappeared = WebDriverWait(driver, 30, 1, (ElementNotVisibleException)).\\\\ \\n\n                     until_not(lambda x: x.find_element(By.ID, \"someId\").is_displayed())\n        \"\"\"\n        self._driver = driver\n>       self._timeout = float(timeout)\nE       ValueError: could not convert string to float: \"//img[@src='img/laaaogo.png']\"\n\nC:\\Users\\27484\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\selenium\\webdriver\\support\\wait.py:65: ValueError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"登录或退出","time":{"start":1745502280517,"stop":1745502280518,"duration":1},"status":"passed","steps":[{"name":"跳过登录","time":{"start":1745502280517,"stop":1745502286716,"duration":6199},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0}],"attachments":[],"parameters":[],"hasContent":true,"attachmentStep":false,"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":0}],"testStage":{"status":"broken","statusMessage":"ValueError: could not convert string to float: \"//img[@src='img/laaaogo.png']\"","statusTrace":"self = <WebUIAutoshop.pom.test_pom_case.test_home_usercenter.TestHomeUserCenter object at 0x000001A8F9D84C10>\nbrowser = <WebUIAutoshop.pom.base.HomePage.HomePage object at 0x000001A8F9D86FD0>\n\n    @allure.feature(\"测试用例\")\n    @allure.story(\"测试用例\")\n    @allure.title(\"测试将错误截图保存到allure报告中\")\n    def test_shop_023_skip_login(self, browser):\n        driver = browser\n        driver.get_url(ENV.url)\n        log.info(\"本用例故意制造错误，测试将错误截图保存到allure报告中\")\n>       driver.find_element(By.XPATH, \"//img[@src='img/laaaogo.png']\")\n\npom\\test_pom_case\\test_home_usercenter.py:139: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\npom\\base\\BasePage.py:92: in find_element\n    return WebDriverWait(self.driver, timeout).until(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <selenium.webdriver.support.wait.WebDriverWait (session=\"a90fe1a158fc40e9df4e93bc1c3db7ea\")>\ndriver = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"a90fe1a158fc40e9df4e93bc1c3db7ea\")>\ntimeout = \"//img[@src='img/laaaogo.png']\", poll_frequency = 0.5\nignored_exceptions = None\n\n    def __init__(\n        self,\n        driver: D,\n        timeout: float,\n        poll_frequency: float = POLL_FREQUENCY,\n        ignored_exceptions: typing.Optional[WaitExcTypes] = None,\n    ):\n        \"\"\"Constructor, takes a WebDriver instance and timeout in seconds.\n    \n        :Args:\n         - driver - Instance of WebDriver (Ie, Firefox, Chrome or Remote) or a WebElement\n         - timeout - Number of seconds before timing out\n         - poll_frequency - sleep interval between calls\n           By default, it is 0.5 second.\n         - ignored_exceptions - iterable structure of exception classes ignored during calls.\n           By default, it contains NoSuchElementException only.\n    \n        Example::\n    \n         from selenium.webdriver.support.wait import WebDriverWait \\n\n         element = WebDriverWait(driver, 10).until(lambda x: x.find_element(By.ID, \"someId\")) \\n\n         is_disappeared = WebDriverWait(driver, 30, 1, (ElementNotVisibleException)).\\\\ \\n\n                     until_not(lambda x: x.find_element(By.ID, \"someId\").is_displayed())\n        \"\"\"\n        self._driver = driver\n>       self._timeout = float(timeout)\nE       ValueError: could not convert string to float: \"//img[@src='img/laaaogo.png']\"\n\nC:\\Users\\27484\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\selenium\\webdriver\\support\\wait.py:65: ValueError","steps":[{"name":"chrome自带截图","time":{"start":1745502284705,"stop":1745502286698,"duration":1993},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0}],"attachments":[{"uid":"ce94ab1ed7b4375c","name":"test_shop_023_skip_login","source":"ce94ab1ed7b4375c.jpg","type":"image/jpg","size":914290},{"uid":"d6406bfcc2358dad","name":"log","source":"d6406bfcc2358dad.txt","type":"text/plain","size":173}],"parameters":[],"hasContent":true,"attachmentStep":false,"stepsCount":1,"shouldDisplayMessage":true,"attachmentsCount":2},"afterStages":[{"name":"登录或退出::0","time":{"start":1745502286716,"stop":1745502286716,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0}],"labels":[{"name":"story","value":"测试用例"},{"name":"feature","value":"测试用例"},{"name":"parentSuite","value":"pom.test_pom_case"},{"name":"suite","value":"test_home_usercenter"},{"name":"subSuite","value":"TestHomeUserCenter"},{"name":"host","value":"zhangjing35"},{"name":"thread","value":"11236-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"pom.test_pom_case.test_home_usercenter"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":[]},"source":"c011a0888211b1f8.json","parameterValues":[]}